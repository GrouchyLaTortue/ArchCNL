# ArchCNL

Central Repository for all projects that are needed for the execution of ArchCNL

## Setup and usage with Eclipse

- Install Eclipse
  - Either install Eclipse DSL
  - Or take any other Version and add the Xtext and Xtend plugins
- Fetch the source of ArchCNL

```bash
git clone https://github.com/Mari-Wie/ArchCNL.git
```

- Import the project as maven project in Eclipse
- Run "GenerateArchCnl.mwe2" from ``org.architecture.cnl`` as "MWE2 Workflow" to generate the Xtext and Xtend files
- Adjust the ``projectPath`` in ``CNLToolchain.java``
- Start a stardog database
- Run the ``main``Method of ``CNLToolchain.java``

## Setup and usage with maven

- Fetch the source of ArchCNL

```bash
git clone https://github.com/Mari-Wie/ArchCNL.git
```

- Execute ``mvn clean package`` in the project directory
- Execute the generated JAR and inspect the help with ``java -jar cnl-toolchain/target/cnl-toolchain-0.0.1-SNAPSHOT.jar``
- Use the paths to the project and adoc as arguments

## ArchCNL CLI

The current cli interface is as follows

```bash
Usage: ArchCNL CLI [-hV] [-c=<context>] [-d=<database>] [-s=<server>] <project path> <rules file>
      <project path>        The path to the project
      <rules file>          The path to the rules, relative to the project path
  -c, --context=<context>   Specifiy the context
  -d, --database=<database> Specifiy the database name
  -h, --help                Show this help message and exit.
  -s, --server=<server>     Specifiy the server
  -V, --version             Print version information and exit.
```

The required arguments are ``<project path>``and ``<rules file>``.
If the project is at the path ``a/b/``and the adoc or rules file is at ``a/b/c.adoc``the arguments would be as follows

```bash
java -jar cnl-toolchain/target/cnl-toolchain-0.0.1-SNAPSHOT.jar /a/b/ c.adoc
```

Please note the appended backslash in the project path.

## Projects that make up ArchCNL

### stardog-connector

Connector to the stardog database

### owlify

Representing your software artifacts using semantic web technologies.

### conformance-checking

Conformance-checking of your rules defined with the CNL against the source code.

- all conformance checking results that have been performed are stored as ontologies
- the evolution of architecture violations can be tracked
- using SPARQL former results can be queried
- results of queries can be integrated into documentation for architecture reviews

### architecture-to-code-mapper

Maps the architecture concepts and relations to source code elements. Mapping rules are specified as SWRL rules. The mapping is performed using rule-based reasoning.

### cnl-documentation

Integrates CNL in well-known architecture documentation templates in an asciidoc format, e.g. arc42 and architecture decision records (ADR).

### CNL2OWL

Transform CNL-Rules to OWL Rules

Comprises

- org.architecture.cnl which means the packages and classes generated by XTEND (and by this everything that has former been in repository org.architecture.cnl.parent)
- jens-api packages, that use the NLPfunctionality of the stanford-nlp project (nd by this everything that has former been in repositoryjens-api).

### cnl-common

Repository with common datatypes for the cnl toolchain.

### cnl-toolchain

Combines all components that are necessary for performing conformance checking to a toolchain.
Toolchain will be started in this project.
